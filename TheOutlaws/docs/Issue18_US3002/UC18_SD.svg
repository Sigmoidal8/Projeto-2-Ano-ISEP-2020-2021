<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="606px" preserveAspectRatio="none" style="width:2285px;height:606px;background:#FFFFFF;" version="1.1" viewBox="0 0 2285 606" width="2285px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sn42wc688fg6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="388.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="588.5" y="114.7266"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="780.5" y="270.3906"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="780.5" y="416.0547"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="946.5" y="299.5234"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="946.5" y="445.1875"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2008.5" y="474.3203"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2185" y="328.6563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="263" x2="263" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="593" x2="593" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="785" x2="785" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="951" x2="951" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1554.5" x2="1554.5" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1670.5" x2="1670.5" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1786.5" x2="1786.5" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1886.5" x2="1886.5" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2013.5" x2="2013.5" y1="83.5938" y2="521.4531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2189.5" x2="2189.5" y1="83.5938" y2="521.4531"/><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="139" x="192" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="108" x="207.5" y="51.9951">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="199" y="68.292">RequestServiceUI</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="139" x="192" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="108" x="207.5" y="540.4482">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="199" y="556.7451">RequestServiceUI</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="199" x="492" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="97" x="543" y="51.9951">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="499" y="68.292">RequestServiceController</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="199" x="492" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="97" x="543" y="540.4482">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="499" y="556.7451">RequestServiceController</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="157" x="705" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="733.5" y="51.9951">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="712" y="68.292">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="157" x="705" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="733.5" y="540.4482">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="712" y="556.7451">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="147" x="876" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="915.5" y="51.9951">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="883" y="68.292">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="147" x="876" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="915.5" y="540.4482">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="883" y="556.7451">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1509.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1516.5" y="51.9951">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1523" y="68.292">Request</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1509.5" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1516.5" y="540.4482">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1523" y="556.7451">Request</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="118" x="1609.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1632.5" y="51.9951">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1616.5" y="68.292">TaskExecution</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="118" x="1609.5" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1632.5" y="540.4482">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1616.5" y="556.7451">TaskExecution</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1741.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1748.5" y="51.9951">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1758" y="68.292">Service</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1741.5" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1748.5" y="540.4482">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1758" y="556.7451">Service</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1841.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1848.5" y="51.9951">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1850.5" y="68.292">Workflow</text><rect fill="#FEFECE" filter="url(#f1sn42wc688fg6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1841.5" y="520.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="1848.5" y="540.4482">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1850.5" y="556.7451">Workflow</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="1965.5" y="63.9951">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1941.5" y="80.292">RequestRepository</text><path d="M1995.5,15 C1995.5,5 2013.5,5 2013.5,5 C2013.5,5 2031.5,5 2031.5,15 L2031.5,41 C2031.5,51 2013.5,51 2013.5,51 C2013.5,51 1995.5,51 1995.5,41 L1995.5,15 " fill="#FEFECE" filter="url(#f1sn42wc688fg6)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1995.5,15 C1995.5,25 2013.5,25 2013.5,25 C2013.5,25 2031.5,25 2031.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="1965.5" y="533.4482">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1941.5" y="549.7451">RequestRepository</text><path d="M1995.5,563.0469 C1995.5,553.0469 2013.5,553.0469 2013.5,553.0469 C2013.5,553.0469 2031.5,553.0469 2031.5,563.0469 L2031.5,589.0469 C2031.5,599.0469 2013.5,599.0469 2013.5,599.0469 C2013.5,599.0469 1995.5,599.0469 1995.5,589.0469 L1995.5,563.0469 " fill="#FEFECE" filter="url(#f1sn42wc688fg6)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1995.5,563.0469 C1995.5,573.0469 2013.5,573.0469 2013.5,573.0469 C2013.5,573.0469 2031.5,573.0469 2031.5,563.0469 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="2142" y="63.9951">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="2095.5" y="80.292">TaskExecutionRepository</text><path d="M2172,15 C2172,5 2190,5 2190,5 C2190,5 2208,5 2208,15 L2208,41 C2208,51 2190,51 2190,51 C2190,51 2172,51 2172,41 L2172,15 " fill="#FEFECE" filter="url(#f1sn42wc688fg6)" style="stroke:#000000;stroke-width:1.5;"/><path d="M2172,15 C2172,25 2190,25 2190,25 C2190,25 2208,25 2208,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="2142" y="533.4482">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="2095.5" y="549.7451">TaskExecutionRepository</text><path d="M2172,563.0469 C2172,553.0469 2190,553.0469 2190,553.0469 C2190,553.0469 2208,553.0469 2208,563.0469 L2208,589.0469 C2208,599.0469 2190,599.0469 2190,599.0469 C2190,599.0469 2172,599.0469 2172,589.0469 L2172,563.0469 " fill="#FEFECE" filter="url(#f1sn42wc688fg6)" style="stroke:#000000;stroke-width:1.5;"/><path d="M2172,563.0469 C2172,573.0469 2190,573.0469 2190,573.0469 C2190,573.0469 2208,573.0469 2208,563.0469 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="388.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="588.5" y="114.7266"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="780.5" y="270.3906"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="780.5" y="416.0547"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="946.5" y="299.5234"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="946.5" y="445.1875"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2008.5" y="474.3203"/><rect fill="#FFFFFF" filter="url(#f1sn42wc688fg6)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2185" y="328.6563"/><polygon fill="#A80036" points="576.5,110.7266,586.5,114.7266,576.5,118.7266,580.5,114.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="263.5" x2="582.5" y1="114.7266" y2="114.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="270.5" y="109.6606">create</text><polygon fill="#A80036" points="576.5,144.8594,586.5,148.8594,576.5,152.8594,580.5,148.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="263.5" x2="582.5" y1="148.8594" y2="148.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="270.5" y="143.7935">requestService(priority, deadline, files, service)</text><path d="M5,127.7266 L5,152.7266 L255,152.7266 L255,137.7266 L245,127.7266 L5,127.7266 " fill="#FBFB77" filter="url(#f1sn42wc688fg6)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M245,127.7266 L245,137.7266 L255,137.7266 L245,127.7266 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="11" y="144.7935">can be saved as draft or as request</text><polygon fill="#A80036" points="1774.5,178.9922,1784.5,182.9922,1774.5,186.9922,1778.5,182.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="1780.5" y1="182.9922" y2="182.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="605.5" y="177.9263">workflows()</text><polygon fill="#A80036" points="1874.5,208.125,1884.5,212.125,1874.5,216.125,1878.5,212.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="1880.5" y1="212.125" y2="212.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="605.5" y="207.0591">tasks()</text><polygon fill="#A80036" points="1658.5,237.2578,1668.5,241.2578,1658.5,245.2578,1662.5,241.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="1664.5" y1="241.2578" y2="241.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="605.5" y="236.1919">newTaskExecution=create(task, status)</text><polygon fill="#A80036" points="768.5,266.3906,778.5,270.3906,768.5,274.3906,772.5,270.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="774.5" y1="270.3906" y2="270.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="605.5" y="265.3247">repositories()</text><polygon fill="#A80036" points="934.5,295.5234,944.5,299.5234,934.5,303.5234,938.5,299.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="785.5" x2="940.5" y1="299.5234" y2="299.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="792.5" y="294.4575">create</text><polygon fill="#A80036" points="2173,324.6563,2183,328.6563,2173,332.6563,2177,328.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="951.5" x2="2179" y1="328.6563" y2="328.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="958.5" y="323.5903">create</text><polygon fill="#A80036" points="2178,353.7891,2188,357.7891,2178,361.7891,2182,357.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="2184" y1="357.7891" y2="357.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="605.5" y="352.7231">save(newTaskExecution)</text><polygon fill="#A80036" points="1542.5,382.9219,1552.5,386.9219,1542.5,390.9219,1546.5,386.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="1548.5" y1="386.9219" y2="386.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="932" x="605.5" y="381.856">newRequest=create(uniqueCode, service, collaborator,dateOfRequest, type, priority, deadline, files,status,isDraft,formResponse,taskExecutions)</text><polygon fill="#A80036" points="768.5,412.0547,778.5,416.0547,768.5,420.0547,772.5,416.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="598.5" x2="774.5" y1="416.0547" y2="416.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="605.5" y="410.9888">repositories()</text><polygon fill="#A80036" points="934.5,441.1875,944.5,445.1875,934.5,449.1875,938.5,445.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="785.5" x2="940.5" y1="445.1875" y2="445.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="792.5" y="440.1216">create</text><polygon fill="#A80036" points="1996.5,470.3203,2006.5,474.3203,1996.5,478.3203,2000.5,474.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="951.5" x2="2002.5" y1="474.3203" y2="474.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="958.5" y="469.2544">create</text><polygon fill="#A80036" points="2001.5,499.4531,2011.5,503.4531,2001.5,507.4531,2005.5,503.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="593.5" x2="2007.5" y1="503.4531" y2="503.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="600.5" y="498.3872">save(newRequest)</text><!--MD5=[ebde383c67e63b5c7cf2dfd38d7c1450]
@startuml
participant RequestServiceUI as UI <<presentation>>
participant RequestServiceController as Controller <<application>>
participant PersistenceContext as PersistenceContext <<persistence>>
participant RepositoryFactory as RepositoryFactory <<factory>>
participant Request as Request <<domain>>
participant TaskExecution as TaskExecution <<domain>>
participant Service as Service <<domain>>
participant Workflow as Workflow <<domain>>
database RequestRepository as RequestRepository <<repository>>
database TaskExecutionRepository as TaskExecutionRepository <<repository>>


UI -> Controller : create
activate Controller



UI -> Controller : requestService(priority, deadline, files, service)

note left: can be saved as draft or as request

Controller -> Service : workflows()

Controller -> Workflow : tasks()

Controller -> TaskExecution : newTaskExecution=create(task, status)

Controller -> PersistenceContext : repositories()
activate PersistenceContext
PersistenceContext -> RepositoryFactory : create
deactivate PersistenceContext
activate RepositoryFactory
RepositoryFactory -> TaskExecutionRepository : create
deactivate RepositoryFactory
activate  TaskExecutionRepository

Controller -> TaskExecutionRepository : save(newTaskExecution)
deactivate TaskExecutionRepository

Controller -> Request : newRequest=create(uniqueCode, service, collaborator,dateOfRequest, type, priority, deadline, files,status,isDraft,formResponse,taskExecutions)
Controller -> PersistenceContext : repositories()
activate PersistenceContext
PersistenceContext -> RepositoryFactory : create
deactivate PersistenceContext
activate RepositoryFactory
RepositoryFactory -> RequestRepository : create
deactivate RepositoryFactory
activate  RequestRepository

Controller -> RequestRepository : save(newRequest)
deactivate RequestRepository


deactivate Controller
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>